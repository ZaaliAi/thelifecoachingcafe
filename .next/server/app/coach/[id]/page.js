(()=>{var e={};e.id=4599,e.ids=[4599],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8563:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11516:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},18329:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},18708:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),l=r(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let d={children:["",{children:["coach",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27095)),"/home/user/studio/src/app/coach/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,82893)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/coach/[id]/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/coach/[id]/page",pathname:"/coach/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},26838:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},27095:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,generateStaticParams:()=>n});var s=r(37413),a=r(99601),i=r(80924),o=r(55555),l=r(39916);async function n(){return i.jc.map(e=>({id:e.id}))}function d(e){return e&&"object"==typeof e&&e.hasOwnProperty("seconds")&&e.hasOwnProperty("nanoseconds")&&"function"==typeof e.toDate}async function c({params:e}){let t=await e,{id:r}=t;console.log("[CoachPage] paramsProp (can be a Promise):",e),console.log("[CoachPage] resolvedParams:",t),console.log("[CoachPage] Using id:",r);let n=null;try{n=await (0,a.VM)(r),console.log("[CoachPage] Fetched coachData from Firestore for id:",r)}catch(e){console.error("[CoachPage] Failed to fetch profile from Firestore for id:",r,e)}!n&&(console.log("[CoachPage] No data from Firestore, falling back to mockCoaches for id:",r),(n=i.jc.find(e=>e.id===r)||null)&&console.log("[CoachPage] Found coachData in mockCoaches for id:",r)),n||(console.log("[CoachPage] Coach data not found for id:",r,". Triggering notFound()."),(0,l.notFound)());let c={...n};return n&&d(n.createdAt)&&(c.createdAt=n.createdAt.toDate().toISOString()),n&&d(n.updatedAt)&&(c.updatedAt=n.updatedAt.toDate().toISOString()),console.log("[CoachPage] Serializable coachData:",c),(0,s.jsx)(o.default,{coachData:c,coachId:r})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28585:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var s=r(60687),a=r(43210),i=r(85814),o=r.n(i),l=r(11516),n=r(44802),d=r(26398),c=r(18329),m=r(55201),u=r(26838),p=r(8563),x=r(96834),f=r(29523),h=r(30474),g=r(26134),b=r(78726),y=r(4780);let v=g.bL,j=g.l9,w=g.ZL;g.bm;let N=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(g.hJ,{ref:r,className:(0,y.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));N.displayName=g.hJ.displayName;let C=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(N,{}),(0,s.jsxs)(g.UC,{ref:a,className:(0,y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(g.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));C.displayName=g.UC.displayName;let A=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(g.hE,{ref:r,className:(0,y.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));A.displayName=g.hE.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(g.VY,{ref:r,className:(0,y.cn)("text-sm text-muted-foreground",e),...t})).displayName=g.VY.displayName;var k=r(44957),P=r(79396),q=r(29867),U=r(76242);let z=e=>{if(!e)return"??";let t=e.split(" "),r=t[0]?t[0][0]:"",s=t.length>1&&t[t.length-1]?t[t.length-1][0]:"";return`${r}${s}`.toUpperCase()};function F(){return(0,s.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,s.jsx)("path",{d:"M4.98 3.5C3.34 3.5 2 4.84 2 6.48c0 1.63 1.34 2.97 2.98 2.97h.02c1.64 0 2.98-1.34 2.98-2.97C7.98 4.84 6.62 3.5 4.98 3.5zM2.4 21.5h5.15v-12H2.4v12zM9.55 9.5V21.5h5.14v-6.02c0-1.6.03-3.67 2.24-3.67 2.23 0 2.23 1.84 2.23 3.75v5.94H24v-6.37c0-4-2.13-5.87-4.98-5.87-2.3 0-3.32 1.28-3.89 2.18h.03V9.5h-5.61z"})})}function I({url:e,label:t,icon:r,className:a}){return(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 px-4 py-2 rounded font-medium transition shadow ${a||"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[r,(0,s.jsx)("span",{children:t})]})}function _({coachData:e,coachId:t}){let[r,i]=(0,a.useState)(e),[g,b]=(0,a.useState)(!e),{user:y}=(0,k.A)(),{toast:w}=(0,q.dj)(),[N,_]=(0,a.useState)(!1),[M,S]=(0,a.useState)(!1),[E,D]=(0,a.useState)(!0);(0,a.useCallback)(async()=>{if(y&&y.id&&t){D(!0);try{let e=await (0,P.VM)(y.id);e&&e.favoriteCoachIds?.includes(t)?_(!0):_(!1)}catch(e){console.error("Error fetching favorite status:",e)}finally{D(!1)}}else _(!1),D(!1)},[y,t]);let V=async()=>{if(!y||!y.id)return void w({title:"Login Required",description:"Please log in to favorite a coach.",variant:"destructive"});if(!t)return void console.error("Coach ID is missing, cannot toggle favorite.");console.log("Authenticated user object:",y),console.log("Authenticated user ID:",y?.id),console.log("Coach object:",r),console.log("Coach ID:",t),console.log("Type of Coach ID:",typeof t),console.log("User ID passed to Firestore function:",y?.id),S(!0);try{let e=r?.name||"this coach";N?(await (0,P.WZ)(y.id,t),_(!1),w({title:"Unfavorited",description:`${e} removed from your favorites.`})):(await (0,P.gF)(y.id,t),_(!0),w({title:"Favorited!",description:`${e} added to your favorites.`}))}catch(e){console.error("Error toggling favorite:",e),w({title:"Error",description:"Could not update favorites. Please try again.",variant:"destructive"})}finally{S(!1)}};if(g)return(0,s.jsxs)("div",{className:"flex justify-center items-center h-full min-h-[calc(100vh-200px)]",children:[(0,s.jsx)(l.A,{className:"h-12 w-12 animate-spin text-primary"})," Loading profile..."]});if(!r)return(0,s.jsx)("div",{className:"flex justify-center items-center h-full min-h-[calc(100vh-200px)]",children:"Profile not found."});let $="premium"===r.subscriptionTier,L=r.socialLinks||[],O=L.find(e=>e.platform?.toLowerCase().includes("linkedin")),R=L.filter(e=>!e.platform?.toLowerCase().includes("linkedin")),T={};r.availability&&r.availability.length>0&&r.availability.forEach(e=>{T[e.day]||(T[e.day]=[]),T[e.day].push(e.time)});let G=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Z=Object.keys(T).sort((e,t)=>G.indexOf(e)-G.indexOf(t)),H=z(r.name);return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 pb-12 flex flex-col items-center",children:(0,s.jsxs)("div",{className:"relative max-w-2xl w-full bg-white rounded-2xl shadow-2xl border border-gray-100 flex flex-col items-center px-2 sm:px-6 pt-12 pb-8 mt-8 sm:mt-16",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsxs)(v,{children:[(0,s.jsx)(j,{asChild:!0,children:(0,s.jsx)("div",{className:"relative w-32 h-32 cursor-pointer",children:r.profileImageUrl?(0,s.jsx)("div",{className:"rounded-full shadow-lg border-4 border-primary overflow-hidden w-32 h-32 bg-white",children:(0,s.jsx)(h.default,{src:r.profileImageUrl,alt:r.name,width:128,height:128,className:"object-cover w-32 h-32",priority:!0})}):(0,s.jsx)("div",{className:"rounded-full shadow-lg border-4 border-primary bg-muted flex items-center justify-center w-32 h-32 text-primary select-none",title:r.name,children:(0,s.jsx)("span",{className:"text-4xl font-semibold",children:H})})})}),(0,s.jsxs)(C,{className:"!max-w-fit !w-auto !h-auto p-0",children:[(0,s.jsx)(A,{className:"sr-only",children:`Profile image of ${r.name}`}),r.profileImageUrl?(0,s.jsx)(h.default,{src:r.profileImageUrl,alt:`Full size profile image of ${r.name}`,width:500,height:500,className:"object-contain max-h-[calc(100vh-80px)] max-w-[calc(100vw-80px)]"}):(0,s.jsx)("div",{className:"w-64 h-64 bg-muted flex items-center justify-center text-primary select-none",children:(0,s.jsx)("span",{className:"text-7xl font-semibold",children:H})})]})]}),(0,s.jsx)("h1",{className:"mt-4 text-2xl sm:text-3xl font-bold tracking-tight text-gray-900 flex items-center gap-2 text-center",children:r.name}),(0,s.jsxs)("div",{className:"text-base text-gray-500 font-medium flex flex-wrap items-center gap-2 mt-1",children:[(0,s.jsx)(n.A,{className:"h-5 w-5"}),r.role?r.role.charAt(0).toUpperCase()+r.role.slice(1):"Coach",r.subscriptionTier&&(0,s.jsx)(x.E,{className:"ml-2 px-3 py-1 rounded-full border-0",style:$?{background:"linear-gradient(90deg,#FFD700 20%, #FFEA70 100%)",color:"#7c6600",fontWeight:700,letterSpacing:"1px"}:{},children:r.subscriptionTier.toUpperCase()})]}),r.location&&(0,s.jsxs)("div",{className:"mt-2 text-base text-gray-500 flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"h-5 w-5"})," ",r.location]}),(0,s.jsxs)("div",{className:"mt-5 mb-2 flex flex-wrap gap-3 justify-center items-center",children:[t&&(0,s.jsx)(f.$,{asChild:!0,className:"flex items-center gap-2 px-6 py-2 rounded bg-green-600 text-white font-semibold hover:bg-green-700 transition shadow",children:(0,s.jsx)(o(),{href:`/messages/new?coachId=${t}`,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-5 w-5"})," Message"]})})}),r.introVideoUrl&&(0,s.jsx)(I,{url:r.introVideoUrl,label:"Intro Video",icon:(0,s.jsx)(m.A,{className:"h-5 w-5"}),className:"bg-red-600 hover:bg-red-700 text-white font-semibold"}),y&&t&&(0,s.jsx)(U.Bc,{children:(0,s.jsxs)(U.m_,{children:[(0,s.jsx)(U.k$,{asChild:!0,children:(0,s.jsx)(f.$,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary disabled:opacity-50 p-2 h-auto rounded-md shadow hover:shadow-md",onClick:V,disabled:M||E,"aria-label":N?"Remove from favorites":"Add to favorites",children:M||E?(0,s.jsx)(l.A,{className:"h-5 w-5 animate-spin"}):(0,s.jsx)(u.A,{className:`h-5 w-5 ${N?"fill-red-500 text-red-500":"text-gray-500"}`})})}),(0,s.jsx)(U.ZI,{children:(0,s.jsx)("p",{children:N?"Unfavorite Coach":"Favorite Coach"})})]})})]})]}),(0,s.jsx)("hr",{className:"w-full border-t border-gray-200 my-6"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"About"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:r.bio})]}),(r.specialties?.length||r.keywords?.length||r.certifications?.length)&&(0,s.jsx)("hr",{className:"w-full border-t border-gray-200 my-6"}),(0,s.jsxs)("div",{className:"w-full flex flex-col sm:flex-row flex-wrap gap-8",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-[180px]",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Specialties"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(r.specialties||[]).map(e=>(0,s.jsx)(x.E,{className:"bg-primary/10 border-primary text-primary",children:e},e))})]}),r.keywords&&r.keywords.length>0&&(0,s.jsxs)("div",{className:"flex-1 min-w-[180px]",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Keywords"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(r.keywords)?r.keywords:r.keywords.split(",")).map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-purple-700 bg-purple-50 border border-purple-300 text-sm font-semibold",children:e},e))})]}),r.certifications&&(0,s.jsxs)("div",{className:"flex-1 min-w-[180px]",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Certifications"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(r.certifications)?r.certifications:r.certifications.split(",")).map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-green-700 bg-green-50 border border-green-300 text-sm font-semibold",children:e},e))})]})]}),Object.keys(T).length>0&&(0,s.jsx)("hr",{className:"w-full border-t border-gray-200 my-6"}),Object.keys(T).length>0&&(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("h3",{className:"text-base font-semibold mb-2",children:"Availability"}),(0,s.jsx)("div",{children:Z.map(e=>(0,s.jsxs)("div",{className:"mb-1",children:[(0,s.jsxs)("span",{className:"font-medium text-gray-800",children:[e,": "]}),T[e].map((e,t)=>(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-white bg-blue-600 text-xs font-semibold mr-1 mb-1",children:e},t))]},e))})]}),(r.websiteUrl||O||R&&R.length>0)&&(0,s.jsx)("hr",{className:"w-full border-t border-gray-200 my-6"}),(r.websiteUrl||O||R&&R.length>0)&&(0,s.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-3 justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[r.websiteUrl&&(0,s.jsx)(I,{url:r.websiteUrl,label:"Website",icon:(0,s.jsx)(p.A,{className:"h-5 w-5"})}),O&&(0,s.jsx)(I,{url:O.url,label:"LinkedIn",icon:(0,s.jsx)(F,{}),className:"text-[#0077b5]"})]}),R&&R.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:R.map(e=>(0,s.jsx)(I,{label:e.platform,icon:(0,s.jsx)(n.A,{className:"h-5 w-5"}),url:e.url},e.url))})]})]})})}},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},55201:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},55443:(e,t,r)=>{Promise.resolve().then(r.bind(r,28585))},55511:e=>{"use strict";e.exports=require("crypto")},55555:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/components/CoachProfile.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/components/CoachProfile.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},76242:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>l,ZI:()=>c,k$:()=>d,m_:()=>n});var s=r(60687),a=r(43210),i=r(9989),o=r(4780);let l=i.Kq,n=i.bL,d=i.l9,c=a.forwardRef(({className:e,sideOffset:t=4,...r},a)=>(0,s.jsx)(i.UC,{ref:a,sideOffset:t,className:(0,o.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));c.displayName=i.UC.displayName},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95355:(e,t,r)=>{Promise.resolve().then(r.bind(r,55555))},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(60687);r(43210);var a=r(24224),i=r(4780);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,i.cn)(o({variant:t}),e),...r})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,2529,1658,1639,5509,9778,291,72,8885],()=>r(18708));module.exports=s})();