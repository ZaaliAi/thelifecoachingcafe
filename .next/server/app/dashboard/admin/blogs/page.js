(()=>{var e={};e.id=8335,e.ids=[8335],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6211:(e,t,r)=>{"use strict";r.d(t,{A0:()=>n,BF:()=>l,Hj:()=>d,XI:()=>o,nA:()=>u,nd:()=>c});var s=r(60687),a=r(43210),i=r(4780);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));o.displayName="Table";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tfoot",{ref:r,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14975:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},15890:(e,t,r)=>{Promise.resolve().then(r.bind(r,80851))},18769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/dashboard/admin/blogs/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/dashboard/admin/blogs/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38765:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},52842:(e,t,r)=>{Promise.resolve().then(r.bind(r,18769))},55511:e=>{"use strict";e.exports=require("crypto")},57207:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},76311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},79551:e=>{"use strict";e.exports=require("url")},80851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var s=r(60687),a=r(43210),i=r(29523),o=r(6211),n=r(96834),l=r(44493),d=r(11516),c=r(14975),u=r(36644),p=r(76311),h=r(38765),x=r(97025),m=r(57207),b=r(43010),g=r(29867),f=r(85814),v=r.n(f),j=r(79396),y=r(55925);function w(){let[e,t]=(0,a.useState)([]),[r,f]=(0,a.useState)(!0),[w,N]=(0,a.useState)(null),{toast:A}=(0,g.dj)(),k=(0,a.useCallback)(async()=>{f(!0),N(null);try{let e=await (0,j.lh)();t(e)}catch(e){console.error("Error fetching blog posts for admin:",e),N("Failed to load blog submissions. Please try again."),A({title:"Error Loading Posts",description:"Could not fetch blog submissions.",variant:"destructive"})}f(!1)},[A]),P=async(r,s)=>{let a=[...e],i=e.find(e=>e.id===r);if(i){t(e=>e.map(e=>e.id===r?{...e,status:s}:e));try{await (0,j.rH)(r,s),A({title:`Blog Post ${s.replace("_"," ").replace(/ \w/g,e=>e.toUpperCase())}`,description:`Blog post "${i.title}" has been updated.`})}catch(e){console.error("Error updating blog post status:",e),t(a),A({title:"Update Failed",description:"Could not update blog post status.",variant:"destructive"})}}},q=async r=>{let s=[...e],a=e.find(e=>e.id===r);if(a){t(e=>e.filter(e=>e.id!==r));try{await (0,j.Vc)(r),A({title:"Blog Post Deleted",description:`Blog post "${a.title}" has been successfully deleted.`})}catch(e){console.error("Error deleting blog post:",e),t(s),A({title:"Deletion Failed",description:"Could not delete the blog post.",variant:"destructive"})}}};return r?(0,s.jsxs)("div",{className:"flex justify-center items-center h-full",children:[(0,s.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"})," Loading blog submissions..."]}):w?(0,s.jsxs)(l.Zp,{className:"text-center py-12 bg-destructive/10 border-destructive",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(c.A,{className:"mx-auto h-10 w-10 text-destructive mb-3"}),(0,s.jsx)(l.ZB,{className:"text-destructive",children:"Error Loading Data"}),(0,s.jsx)(l.BT,{className:"text-destructive/80",children:w})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)(i.$,{onClick:k,variant:"outline",children:"Try Again"})})]}):(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsxs)(l.ZB,{className:"text-2xl flex items-center",children:[(0,s.jsx)(u.A,{className:"mr-3 h-7 w-7 text-primary"})," Manage Blog Submissions"]}),(0,s.jsx)(l.BT,{children:"Review, approve, reject, or delete blog posts submitted by coaches."})]}),(0,s.jsx)(l.Wu,{children:0===e.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"No blog submissions found."}):(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{className:"w-[30%]",children:"Title"}),(0,s.jsx)(o.nd,{children:"Author"}),(0,s.jsx)(o.nd,{children:"Submitted On"}),(0,s.jsx)(o.nd,{children:"Status"}),(0,s.jsx)(o.nd,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(o.BF,{children:e.map(e=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{className:"font-medium max-w-xs truncate",children:(0,s.jsx)(v(),{href:"published"===e.status?`/blog/${e.slug}`:`/dashboard/admin/blogs/preview/${e.slug}`,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.title})}),(0,s.jsx)(o.nA,{children:e.authorName}),(0,s.jsx)(o.nA,{children:(0,b.GP)(new Date(e.createdAt),"PP")}),(0,s.jsx)(o.nA,{children:(0,s.jsx)(n.E,{variant:"published"===e.status?"default":"pending_approval"===e.status?"secondary":"draft"===e.status?"outline":"destructive",children:e.status.replace("_"," ").replace(/ \w/g,e=>e.toUpperCase())})}),(0,s.jsxs)(o.nA,{className:"text-right space-x-1",children:[(0,s.jsx)(i.$,{variant:"ghost",size:"sm",asChild:!0,title:"Preview Post",children:(0,s.jsx)(v(),{href:"published"===e.status?`/blog/${e.slug}`:`/dashboard/admin/blogs/preview/${e.slug}`,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})})}),"pending_approval"===e.status||"rejected"===e.status||"draft"===e.status?(0,s.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-700 hover:bg-green-100",onClick:()=>P(e.id,"published"),title:"Approve and Publish",children:(0,s.jsx)(h.A,{className:"h-4 w-4"})}):null,"pending_approval"===e.status||"published"===e.status||"draft"===e.status?(0,s.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-100",onClick:()=>P(e.id,"rejected"),title:"Reject Post",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})}):null,(0,s.jsxs)(y.Lt,{children:[(0,s.jsx)(y.tv,{asChild:!0,children:(0,s.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive/90 hover:bg-destructive/10",title:"Delete Post",children:(0,s.jsx)(m.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(y.EO,{children:[(0,s.jsxs)(y.wd,{children:[(0,s.jsx)(y.r7,{children:"Are you sure?"}),(0,s.jsxs)(y.$v,{children:['This action cannot be undone. This will permanently delete the blog post "',e.title,'".']})]}),(0,s.jsxs)(y.ck,{children:[(0,s.jsx)(y.Zr,{children:"Cancel"}),(0,s.jsx)(y.Rx,{onClick:()=>q(e.id),className:"bg-destructive hover:bg-destructive/90",children:"Yes, delete post"})]})]})]})]})]},e.id))})]})})]})}},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96834:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(60687);r(43210);var a=r(24224),i=r(4780);let o=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:(0,i.cn)(o({variant:t}),e),...r})}},97025:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},97890:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),n=r(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["dashboard",{children:["admin",{children:["blogs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18769)),"/home/user/studio/src/app/dashboard/admin/blogs/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"/home/user/studio/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,82893)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/dashboard/admin/blogs/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/admin/blogs/page",pathname:"/dashboard/admin/blogs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,2969,1658,3162,3010,477,2400],()=>r(97890));module.exports=s})();